(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{19:function(e,t,a){e.exports={form:"ContactForm_form__1fuOn",label:"ContactForm_label__378f8",input:"ContactForm_input__gm87B",btnAdd:"ContactForm_btnAdd__1TJSN",error:"ContactForm_error__2k1yS"}},21:function(e,t,a){e.exports={contacts:"ContactList_contacts__1Ny0J",title:"ContactList_title__ATLM_",item:"ContactList_item__3YsZK",name:"ContactList_name__2WLgA",tel:"ContactList_tel__Ba6p5",btnDel:"ContactList_btnDel__W2VVH"}},28:function(e,t,a){e.exports={app:"App_app__1kX79",title:"App_title__-GfWs",titleContacts:"App_titleContacts__41vwQ"}},32:function(e,t,a){e.exports={backdrop:"Loader_backdrop__2aLUo",loader:"Loader_loader__1j2Bs",rotation:"Loader_rotation__3ql_m"}},37:function(e,t,a){e.exports={filter:"Filter_filter__1E5tH"}},59:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),s=a(16),o=a.n(s),i=a(38),l=a(13),d=a(2),u=a(3),b=Object(u.b)("filter/set"),p=Object(u.d)("",Object(d.a)({},b,(function(e,t){return t.payload}))),j=a(9),m=a(36),h=a(14),f=Object(m.a)({reducerPath:"contactsApi",baseQuery:Object(h.d)({baseUrl:"https://6199fec19022ea0017a7afc2.mockapi.io/"}),tagTypes:["Contacts"],endpoints:function(e){return{getContacts:e.query({query:function(){return"contacts"},providesTags:function(e){return e?[].concat(Object(j.a)(e.map((function(e){return{type:"Contacts",id:e.id}}))),[{type:"Contacts",id:"LIST"}]):[{type:"Contacts",id:"LIST"}]}}),deleteContact:e.mutation({query:function(e){return{url:"contacts/".concat(e),method:"DELETE"}},invalidatesTags:function(e,t,a){return[{type:"Contacts",id:a}]}}),addContact:e.mutation({query:function(e){return{url:"contacts",method:"POST",body:e}},invalidatesTags:[{type:"Contacts",id:"LIST"}]})}}}),_=f.useGetContactsQuery,O=f.useDeleteContactMutation,x=f.useAddContactMutation,C=Object(u.a)({reducer:(n={},Object(d.a)(n,f.reducerPath,f.reducer),Object(d.a)(n,"filter",p),n),middleware:function(e){return e().concat(f.middleware)}}),y=(a(59),a(6)),v=a(21),N=a.n(v),L=a(1);function A(e){var t=e.contact,a=O(),n=Object(y.a)(a,1)[0];return Object(L.jsxs)("li",{className:N.a.item,children:[Object(L.jsx)("p",{className:N.a.name,children:t.name}),Object(L.jsx)("p",{className:N.a.tel,children:t.phone}),Object(L.jsx)("button",{className:N.a.btnDel,id:t.id,onClick:function(){return n(t.id)},children:"Delete"})]})}var g=a(32),T=a.n(g);function w(){return Object(L.jsx)("div",{className:T.a.backdrop,children:Object(L.jsx)("span",{className:T.a.loader})})}function k(){var e=Object(l.e)((function(e){return e.filter})),t=_(),a=t.data,n=t.isFetching;return Object(L.jsxs)(L.Fragment,{children:[n&&Object(L.jsx)(w,{}),a&&!n&&Object(L.jsx)("ul",{className:N.a.contacts,children:a.filter((function(t){return t.name.toLocaleLowerCase().includes(e.toLowerCase())})).map((function(e){return Object(L.jsx)(A,{contact:e},e.id)}))})]})}var q=a(89),F=a(37),S=a.n(F);function z(){var e=Object(l.e)((function(e){return e.filter})),t=Object(l.d)();return Object(L.jsx)("div",{className:S.a.filter,children:Object(L.jsx)("label",{children:Object(L.jsx)(q.a,{id:"standard-search",label:"Find contacts by name",type:"search",variant:"standard",color:"warning",fullWidth:!0,autoComplete:"off",value:e,onChange:function(e){return t(b(e.target.value))},name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"The name can only consist of letters, apostrophes, dashes and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan etc.",required:!0})})})}var Z=a(27),B=a(39),D=a(25),J=a(19),M=a.n(J);function E(){var e,t,a,n,r=Object(B.a)(),c=r.register,s=r.handleSubmit,o=r.reset,i=r.formState.errors,l=_().data,d=x(),u=Object(y.a)(d,1)[0];return Object(L.jsxs)("form",{className:M.a.form,onSubmit:s((function(e){var t=l.some((function(t){return t.name.toLowerCase()===e.name.toLowerCase()})),a=l.some((function(t){return t.phone.toLowerCase()===e.phone.toLowerCase()}));t?D.b.error("Name is already in contact list"):a?D.b.error("Number is already in contact list"):(u(e),D.b.success("Successfully added!"),o())})),children:[Object(L.jsxs)("label",{className:M.a.label,children:["Name",Object(L.jsx)("input",Object(Z.a)(Object(Z.a)({type:"text",name:"name",title:"The name can only consist of letters, apostrophes, dashes and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan etc."},c("name",{required:!0,pattern:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/})),{},{className:M.a.input})),"required"===(null===i||void 0===i||null===(e=i.name)||void 0===e?void 0:e.type)&&Object(L.jsx)("p",{className:M.a.error,children:"This field is required"}),"pattern"===(null===i||void 0===i||null===(t=i.name)||void 0===t?void 0:t.type)&&Object(L.jsx)("p",{className:M.a.error,children:"Alphabetical characters only"})]}),Object(L.jsxs)("label",{className:M.a.label,children:["Number",Object(L.jsx)("input",Object(Z.a)(Object(Z.a)({type:"tel",name:"number",title:"The phone number must be digits and may contain spaces, dashes, parentheses and may start with +"},c("phone",{required:!0,pattern:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/})),{},{className:M.a.input})),"required"===(null===i||void 0===i||null===(a=i.phone)||void 0===a?void 0:a.type)&&Object(L.jsx)("p",{className:M.a.error,children:"This field is required"}),"pattern"===(null===i||void 0===i||null===(n=i.phone)||void 0===n?void 0:n.type)&&Object(L.jsx)("p",{className:M.a.error,children:"Numeric characters only"})]}),Object(L.jsx)("button",{type:"submit",className:M.a.btnAdd,children:"Add contact"})]})}a(63);var I=a(28),P=a.n(I);var W=function(){return Object(L.jsxs)("div",{className:P.a.app,children:[Object(L.jsx)("h1",{className:P.a.title,children:"Phonebook"}),Object(L.jsx)(D.a,{autoClose:3e3,position:"top-center"}),Object(L.jsx)(E,{}),Object(L.jsx)("h2",{className:P.a.titleContacts,children:"Contacts"}),Object(L.jsx)(z,{}),Object(L.jsx)(k,{})]})};o.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(l.a,{store:C,children:Object(L.jsx)(i.a,{children:Object(L.jsx)(W,{})})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.57efdcd9.chunk.js.map