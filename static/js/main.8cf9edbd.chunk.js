(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{15:function(t,e,n){t.exports={form:"ContactForm_form__1fuOn",label:"ContactForm_label__378f8",input:"ContactForm_input__gm87B",btnAdd:"ContactForm_btnAdd__1TJSN"}},21:function(t,e,n){t.exports={contacts:"ContactList_contacts__1Ny0J",item:"ContactList_item__3YsZK",name:"ContactList_name__2WLgA",tel:"ContactList_tel__Ba6p5",btnDel:"ContactList_btnDel__W2VVH"}},27:function(t,e,n){t.exports={app:"App_app__1kX79",title:"App_title__-GfWs",titleContacts:"App_titleContacts__41vwQ"}},47:function(t,e,n){t.exports={filter:"Filter_filter__1E5tH",label:"Filter_label__3DcZT",text:"Filter_text__20oAI",input:"Filter_input__2DoVp"}},68:function(t,e,n){},98:function(t,e,n){"use strict";n.r(e);var c,a,s,r=n(0),o=n.n(r),u=n(12),i=n.n(u),l=n(48),d=n(14),b=n(8),f=n(16),j=n(44),C=n.n(j),h=n(2),m=n(9),p=n(10),O={fetchContactsRequest:Object(b.b)("contacts/fetchContactsRequest"),fetchContactsSuccess:Object(b.b)("contacts/fetchContactsSuccess"),fetchContactsError:Object(b.b)("contacts/fetchContactsError"),addContactsRequest:Object(b.b)("contacts/addContactsRequest"),addContactsSuccess:Object(b.b)("contacts/addContactsSuccess"),addContactsError:Object(b.b)("contacts/addContactsError"),deleteContactsRequest:Object(b.b)("contacts/deleteContactsRequest"),deleteContactsSuccess:Object(b.b)("contacts/deleteContactsSuccess"),deleteContactsError:Object(b.b)("contacts/deleteContactsError"),filterContact:Object(b.b)("contacts/filterContact")},_=Object(b.c)([],(c={},Object(h.a)(c,O.fetchContactsSuccess,(function(t,e){return e.payload})),Object(h.a)(c,O.addContactsSuccess,(function(t,e){if(!t.some((function(t){return t.name.toLowerCase()===e.payload.name.toLowerCase()})))return[].concat(Object(m.a)(t),[e.payload]);alert("This contact already exists")})),Object(h.a)(c,O.deleteContactsSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),x=Object(b.c)(!1,(a={},Object(h.a)(a,O.fetchContactsRequest,(function(){return!0})),Object(h.a)(a,O.fetchContactsSuccess,(function(){return!1})),Object(h.a)(a,O.fetchContactsError,(function(){return!1})),Object(h.a)(a,O.addContactsRequest,(function(){return!0})),Object(h.a)(a,O.addContactsSuccess,(function(){return!1})),Object(h.a)(a,O.addContactsError,(function(){return!1})),Object(h.a)(a,O.deleteContactsRequest,(function(){return!0})),Object(h.a)(a,O.deleteContactsSuccess,(function(){return!1})),Object(h.a)(a,O.deleteContactsError,(function(){return!1})),a)),v=Object(b.c)("",Object(h.a)({},O.filterContact,(function(t,e){return e.payload}))),g=Object(b.c)(null,(s={},Object(h.a)(s,O.fetchContactsError,(function(t,e){return e.payload})),Object(h.a)(s,O.fetchContactsRequest,(function(){return null})),s)),S=Object(p.b)({dataContacts:_,isLoading:x,filter:v,error:g}),A=Object(b.a)({reducer:{contacts:S},middleware:function(t){return t({serializableCheck:{ignoredActions:[f.a,f.f,f.b,f.c,f.d,f.e]}}).concat(C.a)},devTools:!0}),y=(n(68),n(31)),N=n(32),q=n.n(N),w=n(45),E=n(23),k=n.n(E),R=n(46),F=n.n(R);k.a.defaults.baseURL="https://6199fec19022ea0017a7afc2.mockapi.io/phonebook/";var L={fetchContacts:function(){return function(){var t=Object(w.a)(q.a.mark((function t(e){var n,c;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(O.fetchContactsRequest()),t.prev=1,t.next=4,k.a.get("/contacts");case 4:n=t.sent,c=n.data,e(O.fetchContactsSuccess(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(O.fetchContactsError(t.t0.massage));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},addContact:function(t){return function(e){var n=Object(y.a)(Object(y.a)({id:F.a.generate()},t),{},{completed:!1});e(O.addContactsRequest()),k.a.post("/contacts",n).then((function(t){var n=t.data;return e(O.addContactsSuccess(n))})).catch((function(t){return e(O.addContactsError(t.massage))}))}},deleteContacts:function(t){return function(e){e(O.deleteContactsRequest()),k.a.delete("/contacts/".concat(t)).then((function(){return e(O.deleteContactsSuccess(t))})).catch((function(t){return e(O.deleteContactsError(t.massage))}))}}},z=L,D=n(18),T=function(t){return t.contacts.filter},Z=Object(D.a)([function(t){return t.contacts.dataContacts},T],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),J={getContacts:function(t){return t.contacts.isLoading},getFilter:T,getVisibleContacts:Z},B=n(21),V=n.n(B),W=n(1),M=Object(d.b)((function(t){return{contacts:J.getVisibleContacts(t)}}),(function(t){return{onDeleteContacts:function(e){return t(z.deleteContacts(e))}}}))((function(t){var e=t.contacts,n=t.onDeleteContacts;return Object(W.jsx)("ul",{className:V.a.contacts,children:e.map((function(t){var e=t.id,c=t.name,a=t.number;return Object(W.jsxs)("li",{className:V.a.item,children:[Object(W.jsx)("p",{className:V.a.name,children:c}),Object(W.jsx)("p",{className:V.a.tel,children:a}),Object(W.jsx)("button",{className:V.a.btnDel,onClick:function(){return n(e)},children:"Delete"})]},e)}))})})),H=n(123),I=n(47),$=n.n(I),G=Object(d.b)((function(t){return{value:J.getFilter(t)}}),(function(t){return{onChange:function(e){return t(O.filterContact(e.currentTarget.value))}}}))((function(t){var e=t.value,n=t.onChange;return Object(W.jsx)("div",{className:$.a.filter,children:Object(W.jsx)("label",{children:Object(W.jsx)(H.a,{id:"standard-search",label:"Find contacts by name",type:"search",variant:"standard",color:"warning",fullWidth:!0,autoComplete:"off",value:e,onChange:n,name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"The name can only consist of letters, apostrophes, dashes and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan etc.",required:!0})})})})),K=n(6),P=n(15),Q=n.n(P);var U=Object(d.b)(null,(function(t){return{onSubmit:function(e){return t(z.addContact(e))}}}))((function(t){var e=t.onSubmit,n=Object(r.useState)(""),c=Object(K.a)(n,2),a=c[0],s=c[1],o=Object(r.useState)(""),u=Object(K.a)(o,2),i=u[0],l=u[1],d=function(t){var e=t.currentTarget,n=e.name,c=e.value;switch(n){case"name":s(c);break;case"number":l(c);break;default:return}};return Object(W.jsxs)("form",{className:Q.a.form,onSubmit:function(t){t.preventDefault(),e({name:a,number:i}),s(""),l("")},children:[Object(W.jsxs)("label",{className:Q.a.label,children:["Name",Object(W.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"The name can only consist of letters, apostrophes, dashes and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan etc.",required:!0,value:a,onChange:d,className:Q.a.input})]}),Object(W.jsxs)("label",{className:Q.a.label,children:["Number",Object(W.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"The phone number must be digits and may contain spaces, dashes, parentheses and may start with +",required:!0,value:i,onChange:d,className:Q.a.input})]}),Object(W.jsx)("button",{type:"submit",className:Q.a.btnAdd,children:"Add contact"})]})})),X=n(27),Y=n.n(X);var tt=function(){return Object(W.jsxs)("div",{className:Y.a.app,children:[Object(W.jsx)("h1",{className:Y.a.title,children:"Phonebook"}),Object(W.jsx)(U,{}),Object(W.jsx)("h2",{className:Y.a.titleContacts,children:"Contacts"}),Object(W.jsx)(G,{}),Object(W.jsx)(M,{})]})};i.a.render(Object(W.jsx)(o.a.StrictMode,{children:Object(W.jsx)(d.a,{store:A,children:Object(W.jsx)(l.a,{children:Object(W.jsx)(tt,{})})})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.8cf9edbd.chunk.js.map