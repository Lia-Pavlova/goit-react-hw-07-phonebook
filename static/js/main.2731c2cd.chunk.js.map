{"version":3,"sources":["components/ContactForm/ContactForm.module.css","components/ContactList/ContactList.module.css","App.module.css","components/Loader/Loader.module.css","components/Filter/Filter.module.css","redux/phoneActions.js","redux/phoneReducer.js","services/contactsAPI.js","redux/phoneStore.js","components/ContactList/ContactListItem.jsx","components/Loader/Loader.jsx","components/ContactList/ContactList.jsx","components/Filter/Filter.jsx","components/ContactForm/ContactForm.jsx","App.jsx","index.js"],"names":["module","exports","setFilter","createAction","filterReducer","createReducer","state","payload","contactsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","build","getContacts","query","providesTags","result","map","type","id","deleteContact","mutation","url","method","invalidatesTags","error","addContact","newContact","body","useGetContactsQuery","useDeleteContactMutation","useAddContactMutation","store","configureStore","reducer","middleware","getDefaultMiddleware","concat","ContactItem","contact","delItem","className","s","item","name","tel","phone","btnDel","onClick","Loader","backdrop","loader","ContactList","filter","useSelector","data","isFetching","contacts","toLocaleLowerCase","includes","toLowerCase","Filter","value","dispatch","useDispatch","TextField","label","variant","color","fullWidth","autoComplete","onChange","e","target","pattern","title","required","ContactsForm","useForm","register","handleSubmit","reset","errors","formState","form","onSubmit","existContact","some","el","existNumber","toast","success","input","btnAdd","App","app","autoClose","titleContacts","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2731c2cd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactForm_form__1fuOn\",\"label\":\"ContactForm_label__378f8\",\"input\":\"ContactForm_input__gm87B\",\"btnAdd\":\"ContactForm_btnAdd__1TJSN\",\"error\":\"ContactForm_error__2k1yS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contacts\":\"ContactList_contacts__1Ny0J\",\"title\":\"ContactList_title__ATLM_\",\"item\":\"ContactList_item__3YsZK\",\"name\":\"ContactList_name__2WLgA\",\"tel\":\"ContactList_tel__Ba6p5\",\"btnDel\":\"ContactList_btnDel__W2VVH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1kX79\",\"title\":\"App_title__-GfWs\",\"titleContacts\":\"App_titleContacts__41vwQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Loader_backdrop__2aLUo\",\"loader\":\"Loader_loader__1j2Bs\",\"rotation\":\"Loader_rotation__3ql_m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__1E5tH\",\"label\":\"Filter_label__3DcZT\",\"text\":\"Filter_text__20oAI\",\"input\":\"Filter_input__2DoVp\"};","import { createAction } from '@reduxjs/toolkit'\n\nexport const setFilter = createAction('filter/set')\n","import { createReducer } from '@reduxjs/toolkit'\n\nimport { setFilter } from './phoneActions'\n\nexport const filterReducer = createReducer('', {\n  [setFilter]: (state, { payload }) => (state = payload),\n})\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\n\nexport const contactsApi = createApi({\n  reducerPath: 'contactsApi',\n  baseQuery: fetchBaseQuery({\n    baseUrl: 'https://6199fec19022ea0017a7afc2.mockapi.io/',\n  }),\n  tagTypes: ['Contacts'],\n  endpoints: (build) => ({\n    getContacts: build.query({\n      query: () => `contacts`,\n      providesTags: (result) =>\n        // --- is result available? ---\n        result\n          ? // --- successful query ---\n            [\n              ...result.map(({ id }) => ({ type: 'Contacts', id })),\n              { type: 'Contacts', id: 'LIST' },\n            ]\n          : // --- when we get an error, but still want to refetch this query ---\n            // --- when`{ type: 'Posts', id: 'LIST' }` is invalidated ----\n            [{ type: 'Contacts', id: 'LIST' }],\n    }),\n    deleteContact: build.mutation({\n      query: (id) => ({\n        url: `contacts/${id}`,\n        method: 'DELETE',\n      }),\n      invalidatesTags: (result, error, id) => [{ type: 'Contacts', id }],\n    }),\n    addContact: build.mutation({\n      query: (newContact) => ({\n        url: 'contacts',\n        method: 'POST',\n        body: newContact,\n      }),\n      invalidatesTags: [{ type: 'Contacts', id: 'LIST' }],\n    }),\n  }),\n})\n\nexport const {\n  useGetContactsQuery,\n  useDeleteContactMutation,\n  useAddContactMutation,\n} = contactsApi\n","import { configureStore } from '@reduxjs/toolkit'\n\nimport { filterReducer } from './phoneReducer'\nimport { contactsApi } from '../services/contactsAPI'\n\nexport const store = configureStore({\n  reducer: {\n    [contactsApi.reducerPath]: contactsApi.reducer,\n    filter: filterReducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat(contactsApi.middleware),\n})\n\n//--------------------------------------------------\n// import {\n//   FLUSH,\n//   REHYDRATE,\n//   PAUSE,\n//   PERSIST,\n//   PURGE,\n//   REGISTER,\n// } from 'redux-persist'\n\n// import logger from 'redux-logger'\n// import phoneReducer from './phoneReducer'\n\n// export const store = configureStore({\n//   reducer: {\n//     contacts: phoneReducer,\n//   },\n//   middleware: (getDefaultMiddleware) =>\n//     getDefaultMiddleware({\n//       serializableCheck: {\n//         ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n//       },\n//     }).concat(logger),\n//   devTools: process.env.NODE_ENV !== 'development',\n// })\n","import { useDeleteContactMutation } from '../../services/contactsAPI'\nimport PropTypes from 'prop-types'\n\nimport s from './ContactList.module.css'\n\nexport default function ContactItem({ contact }) {\n  const [delItem] = useDeleteContactMutation()\n  return (\n    <li className={s.item}>\n      <p className={s.name}>{contact.name}</p>\n      <p className={s.tel}>{contact.phone}</p>\n      <button\n        className={s.btnDel}\n        id={contact.id}\n        onClick={() => delItem(contact.id)}\n      >\n        Delete\n      </button>\n    </li>\n  )\n}\n\nContactItem.propTypes = {\n  contact: PropTypes.shape({\n    name: PropTypes.string,\n    phone: PropTypes.string,\n    id: PropTypes.string,\n  }),\n  delItem: PropTypes.func,\n}\n","import s from '../Loader/Loader.module.css'\nexport default function Loader() {\n  return (\n    <div className={s.backdrop}>\n      <span className={s.loader}></span>\n    </div>\n  )\n}\n","import ContactItem from './ContactListItem'\n\nimport { useGetContactsQuery } from '../../services/contactsAPI'\nimport { useSelector } from 'react-redux'\n\nimport Loader from '../Loader/Loader.jsx'\nimport s from './ContactList.module.css'\n\nexport default function ContactList() {\n  const filter = useSelector((state) => state.filter)\n\n  const { data, isFetching } = useGetContactsQuery()\n\n  return (\n    <>\n      {isFetching && <Loader />}\n\n      {data && !isFetching && (\n        <ul className={s.contacts}>\n          {data\n            .filter((contact) =>\n              contact.name.toLocaleLowerCase().includes(filter.toLowerCase()),\n            )\n            .map((contact) => (\n              <ContactItem key={contact.id} contact={contact} />\n            ))}\n        </ul>\n      )}\n    </>\n  )\n}\n","import TextField from '@mui/material/TextField'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { setFilter } from '../../redux/phoneActions'\nimport s from './Filter.module.css'\n\nexport default function Filter() {\n  const value = useSelector((state) => state.filter)\n  const dispatch = useDispatch()\n  const onChange = (e) => dispatch(setFilter(e.target.value))\n  return (\n    <div className={s.filter}>\n      <label>\n        <TextField\n          id=\"standard-search\"\n          label=\"Find contacts by name\"\n          type=\"search\"\n          variant=\"standard\"\n          color=\"warning\"\n          fullWidth\n          autoComplete=\"off\"\n          // focused\n          value={value}\n          onChange={onChange}\n          name=\"name\"\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"The name can only consist of letters, apostrophes, dashes and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan etc.\"\n          required\n        />\n      </label>\n    </div>\n  )\n}\n","import { useForm } from 'react-hook-form'\nimport { toast } from 'react-toastify'\n\nimport {\n  useAddContactMutation,\n  useGetContactsQuery,\n} from '../../services/contactsAPI'\n\nimport s from './ContactForm.module.css'\n\nexport default function ContactsForm() {\n  const {\n    register,\n    handleSubmit,\n    reset,\n\n    formState: { errors },\n  } = useForm()\n\n  const { data: contacts } = useGetContactsQuery()\n  const [addContact] = useAddContactMutation()\n\n  const onSubmit = (data) => {\n    const existContact = contacts.some(\n      (el) => el.name.toLowerCase() === data.name.toLowerCase(),\n    )\n    const existNumber = contacts.some(\n      (el) => el.phone.toLowerCase() === data.phone.toLowerCase(),\n    )\n    if (existContact) {\n      toast.error(`Name is already in contact list`)\n      return\n    } else if (existNumber) {\n      toast.error(`Number is already in contact list`)\n      return\n    } else {\n      addContact(data)\n      toast.success(`Successfully added!`)\n      reset()\n    }\n  }\n\n  return (\n    <form className={s.form} onSubmit={handleSubmit(onSubmit)}>\n      <label className={s.label}>\n        Name\n        <input\n          type=\"text\"\n          name=\"name\"\n          title=\"The name can only consist of letters, apostrophes, dashes and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan etc.\"\n          {...register('name', {\n            required: true,\n            pattern: /^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$/,\n          })}\n          className={s.input}\n        />\n        {errors?.name?.type === 'required' && (\n          <p className={s.error}>This field is required</p>\n        )}\n        {errors?.name?.type === 'pattern' && (\n          <p className={s.error}>Alphabetical characters only</p>\n        )}\n      </label>\n      <label className={s.label}>\n        Number\n        <input\n          type=\"tel\"\n          name=\"number\"\n          title=\"The phone number must be digits and may contain spaces, dashes, parentheses and may start with +\"\n          {...register('phone', {\n            required: true,\n            pattern: /\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}/,\n          })}\n          className={s.input}\n        />\n        {errors?.phone?.type === 'required' && (\n          <p className={s.error}>This field is required</p>\n        )}\n        {errors?.phone?.type === 'pattern' && (\n          <p className={s.error}>Numeric characters only</p>\n        )}\n      </label>\n      <button type=\"submit\" className={s.btnAdd}>\n        Add contact\n      </button>\n    </form>\n  )\n}\n","// Import components\nimport ContactList from './components/ContactList/ContactList'\nimport Filter from './components/Filter/Filter'\nimport ContactForm from './components/ContactForm/ContactForm'\nimport { ToastContainer } from 'react-toastify'\nimport '../node_modules/react-toastify/dist/ReactToastify.css'\n\nimport s from './App.module.css'\n\nfunction App() {\n  return (\n    <div className={s.app}>\n      <h1 className={s.title}>Phonebook</h1>\n      <ToastContainer autoClose={3000} />\n      <ContactForm />\n      <h2 className={s.titleContacts}>Contacts</h2>\n      <Filter />\n      <ContactList />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\n\nimport { store } from './redux/phoneStore'\n\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}